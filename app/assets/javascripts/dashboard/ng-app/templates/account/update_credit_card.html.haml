.remodal-overlay{"style"=>"display: none;"}
  .remodal.action-form{"data-remodal-id"=>"update-card-modal", "data-remodal-options"=>"hashTracking: false" }
    %section{"ng-class"=>"setActiveStep(1)"}
      %header
        %h2
          Select a Card to Update
      %p
        .col-md-4{"ng-repeat"=>"card in user.account.cards"}
          .card.thumbnail{"ng-click"=>"setSelectedCard(card)", "ng-class"=>"isSelectedCard(card)"}
            .card-default{"ng-show"=>"card.default"}
              Default
            .card-info
              %h2.card-name
                {{card.brand}} {{card.last4}}
              %h3.card-expiration
                {{card.expirationMonth }}/{{card.expirationYear}}
      %footer
        %button.previous{"ng-click"=>"dismissModal()"}
          Cancel
        %button.continue{"ng-click"=>"nextStep()"}
          Next
          %i.fa-arrow-right
      %div{"loading-screen" => "loading.show_spinner"}
    %section{"ng-class"=>"setActiveStep(2)"}
      %header
        %h2
          Update Credit Card
        %form{"name"=>"updateCreditCardForm", "novalidate"=>""}
          %p.error-message-block{"ng-show"=>"show_error_message"}
            {{error_message}}
          .form-group
            %label{:for => "name_on_card"}
              Name on Card
            %input.col-lg-12#card_number{:autofocus => "", :name => "name_on_card", :placeholder => "Name on Card", :required => "", :type => "text", "ng-model"=>"credit_card.name"}/
            %span{"ng-show" => "form_submitted && addCreditCardForm['name_on_card'].$invalid", :style => "color:red"}
              %span{"ng-show" => "addCreditCardForm['name_on_card'].$error.required"}
                Name on Card is required.
          .form-group
            %label{:for => "card_number"}
              Card Number
            %input.col-lg-12#card_number{:autofocus => "", :name => "card_number", :placeholder => "Credit Card Number", :required => "", "maxlength"=>"16", :type => "text", "ng-model"=>"credit_card.number"}/
            %span{"ng-show" => "form_submitted && addCreditCardForm['card_number'].$invalid", :style => "color:red"}
              %span{"ng-show" => "addCreditCardForm['card_number'].$error.required"}
                Card Number is required.
          .form-group
            %label{:for => "expiry_date"}
              Expiry Date
            %input#expiry_date_month{:name => "expiry_date_month", :placeholder => "MM", :required => "", "maxlength" => "2", :type => "text", "ng-model"=>"credit_card.exp_month", :style => "width: 120px;"}/
            %span{:style=>"display: inline;"}
              \/
            %input#expiry_date_year{:name => "expiry_date_year", :placeholder => "YYYY", :required => "", "maxlength"=>"4", :type => "text", "ng-model"=>"credit_card.exp_year", :style => "width: 180px;"}/
            %span{"ng-show" => "form_submitted && addCreditCardForm['expiry_date_month'].$invalid", :style => "color:red"}
              %span{"ng-show" => "addCreditCardForm['expiry_date_month'].$error.required"}
                Card Expiration month is required.
            %input#security_code{:name => "security_code", :placeholder => "CVC Code", :required => "", "maxlength"=>"4", :type => "text", "ng-model"=>"credit_card.cvc", :style => "width: 200px;"}/
            %span{"ng-show" => "form_submitted && addCreditCardForm['security_code'].$invalid", :style => "color:red"}
              %span{"ng-show" => "addCreditCardForm['security_code'].$error.required"}
                Security Code is required.
          .form-group.checkbox-wrapper
            %input#default_card{:name => "default_card", "type"=>"checkbox", "ng-model"=>"credit_card_attr.default"}
            %label{:for => "default_card"}
              Make this my default payment method
        %footer
          %button.previous{"ng-click"=>"previousStep()"}
            Back
          %button.continue{"ng-click"=>"updateCreditCardSubmit(addCreditCardForm)"}
            Update Card
            %i.fa-arrow-right
      %div{"loading-screen" => "loading.show_spinner"}
